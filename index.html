<!DOCTYPE html>
<html lang="en">
  <head>
    <meta charset="UTF-8" />
    <link rel="icon" type="image/svg+xml" href="/balloon.svg" />
    <meta name="viewport" content="width=device-width, initial-scale=1.0" />
    <title>Balloon shooter</title>
    <link rel="stylesheet" href="./style.css">

  </head>
  <body>
    <div class="bg"></div>
    <canvas class="webgl"></canvas>
    <script type="module" src="/main.js"></script>
    <div class="score">00</div>
    <div class="startScreen">
        <svg width="320" height="320" viewBox="-128 -128 512 512" fill="none" xmlns="http://www.w3.org/2000/svg" >
            <defs>
                <clipPath id="my-clip" transform="translate(200, 200)">
                    <path d="M171 85L123.7 26.3L123 25.6L122.2 25C118.37 20.3 111.8 19 106.5 21.6L71 33.5L66.6 36.3L62.4 40.6L30 8.2C27 5.2 23 3.5 18.6384 3.5C14.3 3.5 10.3 5.2 7.3 8.2C4.2 11.2 2.6 15.3 2.6 19.6C2.6 23.8 4.3 28 7.3 31L67 90.7L39.5 108.3L37.9 110C35.7 112 34.4 114.9 34.4 117.6L35 128.5L 103 128.4 L 1024 1024 L -1024 1024 L -1024 -1024 L 1024 -1024 Z " stroke="white" stroke-width="5" transform="scale(1, 1)" transform-origin="19 19" opacity="1"/>
                    <animateTransform id="zeroIntroTranslate"
                                      xlink:href="#my-clip"
                                      begin="threeTranslate.end; 0s"
                                      attributeName="transform"
                                      attributeType="XML"
                                      type="translate"
                                      from="200 200"
                                      to="100 140"
                                      keyTimes="0;1"
                                      keySplines="0.5 0 0.5 1"
                                      calcMode="spline"
                                      dur="1s"
                                      repeatCount="1"
                                      fill="freeze"
                                      restart="always"
                                      additive="replace"
                    />
                    <animateTransform id="oneTranslate"
                                      xlink:href="#my-clip"
                                      begin="zeroIntroTranslate.end"
                                      attributeName="transform"
                                      attributeType="XML"
                                      type="translate"
                                      values="100 140; 130 140; 40 140; 100 140"
                                      keySplines="0.5 0 0.5 1; 0.6 0 0.4 1; 0.5 0 0.5 1"
                                      keyTimes="0;0.3;0.7;1"
                                      calcMode="spline"
                                      dur="2s"
                                      repeatCount="1"
                                      fill="freeze"
                                      additive="replace"
                    />
                    <animateTransform id="twoTranslate"
                                      xlink:href="#my-clip"
                                      begin="oneTranslate.end"
                                      attributeName="transform"
                                      attributeType="XML"
                                      type="translate"
                                      values="100 140; 100 90; 100 90"
                                      keyTimes="0;0.5;1"
                                      keySplines="0.5 0 0.5 1; 0 0 1 1"
                                      calcMode="spline"
                                      dur="1s"
                                      repeatCount="1"
                                      fill="freeze"
                                      restart="always"

                    />
                    <animateTransform id="twoScale"
                                      xlink:href="#my-clip"
                                      begin="oneTranslate.end"
                                      attributeName="transform"
                                      attributeType="XML"
                                      type="scale"
                                      values="1 1; 1.2 1.2; 0.8 0.8; 1 1; 0.8 0.8; 1 1"
                                      keySplines="0.5 0 0.5 1; 0.5 0 0.9 1; 0.5 0 0.5 1; 0.5 0 0.5 1; 0.5 0 0.5 1"
                                      keyTimes="0; 0.25; 0.5; 0.7; 0.8; 1"
                                      calcMode="spline"
                                      dur="1s"
                                      repeatCount="1"
                                      fill="freeze"
                                      additive="sum"
                    />
                    <animateTransform id="threeTranslate"
                                      xlink:href="#my-clip"
                                      begin="twoTranslate.end"
                                      attributeName="transform"
                                      attributeType="XML"
                                      type="translate"
                                      to="200 200"
                                      keyTimes="0; 1"
                                      keySplines="0.2 0 0.8 1"
                                      calcMode="spline"
                                      dur="0.5s"
                                      repeatCount="1"
                                      fill="freeze"
                    />
                </clipPath>

            </defs>
            <g  clip-path="url(#my-clip)">
                <path id="fill0" d="M199 100C199 40 146.5 3 101 3C55.5 3 3 39.5 3 99.5C3 150 61 230 101 250C141 230 199 150 199 100Z" stroke="white" stroke-width="5" fill="white" fill-opacity="0.1"/>
                <g>
                    <path id="l2"
                          d="M101 3C44 3 3 52 3 99C3 140 48 220 101 250" stroke="white"/>
                    <animate xlink:href="#l2"

                             begin="zeroIntroTranslate.end"

                             attributeName="d"
                             attributeType="XML"
                             values="M101 3C44 3 3 52 3 99C3 140 48 220 101 250;
						M101 3C69 3 46 52 46 99C46 140 71 220 101 250;
						M101 3C44 3 3 52 3 99C3 140 48 220 101 250;
						M101 3C44 3 3 52 3 99C3 140 48 220 101 250"
                             keySplines="0.5 0 0.5 1; 0.2 0 0.5 1; 0.5 0 0.5 1"
                             keyTimes="0;0.3;0.7;1"
                             calcMode="spline"
                             dur="2s"
                             repeatCount="1"
                             fill="freeze"
                    />
                </g>
                <g>
                    <path id="l1"
                          d="M101 3C69 3 46 52 46 99C46 140 71 220 101 250" stroke="white"/>
                    <animate xlink:href="#l1"

                             begin="zeroIntroTranslate.end"

                             attributeName="d"
                             attributeType="XML"
                             values="M101 3C69 3 46 52 46 99C46 140 71 220 101 250;
						M101 3C101 20 101 80 101 100C101 120 101 220 101 250;
						M101 3C44 3 3 52 3 99C3 140 48 220 101 250;
						M101 3C69 3 46 52 46 99C46 140 71 220 101 250"
                             keySplines="0.5 0 0.5 1; 0.5 0 0.5 1; 0.5 0 0.5 1"
                             keyTimes="0;0.3;0.7;1"
                             calcMode="spline"
                             dur="2s"
                             repeatCount="1"
                             fill="freeze"
                    />
                </g>
                <g>
                    <path id="c0"
                          d="M101 3C101 20 101 80 101 100C101 120 101 220 101 250" stroke="white"/>
                    <animate xlink:href="#c0"

                             begin="zeroIntroTranslate.end"

                             attributeName="d"
                             attributeType="XML"
                             values="M101 3C101 20 101 80 101 100C101 120 101 220 101 250;
						M101 3C133 3 156 53 156 100C156 140 131 220 101 250;
						M101 3C69 3 46 52 46 99C46 140 71 220 101 250;
						M101 3C101 20 101 80 101 100C101 120 101 220 101 250"
                             keySplines="0.5 0 0.5 1; 0.5 0 0.5 1; 0.5 0 0.5 1"
                             keyTimes="0;0.3;0.7;1"
                             calcMode="spline"
                             dur="2s"
                             repeatCount="1"
                             fill="freeze"
                    />
                </g>
                <g>
                    <path id="r1"
                          d="M101 3C133 3 156 53 156 100C156 140 131 220 101 250" stroke="white"/>
                    <animate xlink:href="#r1"

                             begin="zeroIntroTranslate.end"

                             attributeName="d"
                             attributeType="XML"
                             values="M101 3C133 3 156 53 156 100C156 140 131 220 101 250;
						M101 3C158 3 199 53 199 100C199 140 154 220 101 250;
						M101 3C101 20 101 80 101 100C101 120 101 220 101 250;
						M101 3C133 3 156 53 156 100C156 140 131 220 101 250"
                             keySplines="0.5 0 0.5 1; 0.5 0 0.5 1; 0.5 0 0.5 1"
                             keyTimes="0;0.3;0.7;1"
                             calcMode="spline"
                             dur="2s"
                             repeatCount="1"
                             fill="freeze"
                    />
                </g>
                <g>
                    <path id="r2"
                          d="M101 3C158 3 199 53 199 100C199 140 154 220 101 250" stroke="white"/>
                    <animate xlink:href="#r2"

                             begin="zeroIntroTranslate.end"

                             attributeName="d"
                             attributeType="XML"
                             values="M101 3C158 3 199 53 199 100C199 140 154 220 101 250;
						M101 3C158 3 199 53 199 100C199 140 154 220 101 250;
						M101 3C133 3 156 53 156 100C156 140 131 220 101 250;
						M101 3C158 3 199 53 199 100C199 140 154 220 101 250"
                             keySplines="0.5 0 0.5 1; 0.5 0 0.8 1; 0.5 0 0.5 1"
                             keyTimes="0;0.3;0.7;1"
                             calcMode="spline"
                             dur="2s"
                             repeatCount="1"
                             fill="freeze"
                    />
                </g>
                <animateTransform attributeName="transform"
                                  begin="threeTranslate.end; 0s"
                                  attributeType="XML"
                                  type="translate"
                                  from="0 100"
                                  to="0 0"
                                  keyTimes="0;1"
                                  keySplines="0.3 1 0.5 1"
                                  calcMode="spline"
                                  dur="1s"
                                  repeatCount="1"
                                  fill="freeze"
                                  restart="always"
                />
                <animate attributeName="opacity"
                         begin="threeTranslate.end; 0s"
                         from="0"
                         to="1"
                         keyTimes="0;1"
                         keySplines="0 0 0.9 1"
                         calcMode="spline"
                         dur="1s"
                         repeatCount="1"
                         fill="freeze"
                         restart="always"
                />
                <set attributeName="opacity"
                     to="0"
                     begin="oneTranslate.end + 0.8s"
                     dur="20s"
                />
                <animate attributeName="fill-opacity"
                         xlink:href="#fill0"
                         from="0.5"
                         to="0"
                         begin="oneTranslate.end + 0.5s"
                         dur="1s"
                         additive="replace"
                />
                <set attributeName="fill-opacity"
                     xlink:href="#fill0"
                     to="0"
                     begin="threeTranslate.end; 0s"
                     dur="20s"
                />
            </g>
            <path id="pointer"
                  d="M 171 85 L 123.7 26.3 L 123 25.6 L 122.2 25 C 118.37 20.3 111.8 19 106.5 21.6 L 71 33.5 L 66.6 36.3
          L 62.4 40.6 L 30 8.2 C 27 5.2 23 3.5 18.6384 3.5 C 14.3 3.5 10.3 5.2 7.3 8.2 C 4.2 11.2 2.6 15.3 2.6 19.6
          C 2.6 23.8 4.3 28 7.3 31 L 67 90.7 L39.5 108.3L37.9 110C35.7 112 34.4 114.9 34.4 117.6L35 128.5L103 128.4"
                  stroke="white" stroke-width="5" transform="translate(200, 200)" transform-origin="translate(19, 19)" opacity="1"/>
            <animateTransform id="zeroIntroTranslate"
                              xlink:href="#pointer"
                              begin="threeTranslate.end; 0s"
                              attributeName="transform"
                              attributeType="XML"
                              type="translate"
                              from="200 200"
                              to="100 140"
                              keyTimes="0;1"
                              keySplines="0.5 0 0.5 1"
                              calcMode="spline"
                              dur="1s"
                              repeatCount="1"
                              fill="freeze"
                              restart="always"
                              additive="replace"
            />
            <animateTransform id="oneTranslate"
                              xlink:href="#pointer"
                              begin="zeroIntroTranslate.end"
                              attributeName="transform"
                              attributeType="XML"
                              type="translate"
                              values="100 140; 130 140; 40 140; 100 140"
                              keySplines="0.5 0 0.5 1; 0.6 0 0.4 1; 0.5 0 0.5 1"
                              keyTimes="0;0.3;0.7;1"
                              calcMode="spline"
                              dur="2s"
                              repeatCount="1"
                              fill="freeze"
                              additive="replace"
            />
            <animateTransform id="twoTranslate"
                              xlink:href="#pointer"
                              begin="oneTranslate.end"
                              attributeName="transform"
                              attributeType="XML"
                              type="translate"
                              values="100 140; 100 90; 100 90"
                              keyTimes="0;0.5;1"
                              keySplines="0.5 0 0.5 1; 0 0 1 1"
                              calcMode="spline"
                              dur="1s"
                              repeatCount="1"
                              fill="freeze"
                              restart="always"

            />
            <animateTransform id="twoScale"
                              xlink:href="#pointer"
                              begin="oneTranslate.end"
                              attributeName="transform"
                              attributeType="XML"
                              type="scale"
                              values="1 1; 1.2 1.2; 0.8 0.8; 1 1; 0.8 0.8; 1 1"
                              keySplines="0.5 0 0.5 1; 0.5 0 0.9 1; 0.5 0 0.5 1; 0.5 0 0.5 1; 0.5 0 0.5 1"
                              keyTimes="0; 0.25; 0.5; 0.7; 0.8; 1"
                              calcMode="spline"
                              dur="1s"
                              repeatCount="1"
                              fill="freeze"
                              additive="sum"
            />
            <animateTransform id="threeTranslate"
                              xlink:href="#pointer"
                              begin="twoTranslate.end"
                              attributeName="transform"
                              attributeType="XML"
                              type="translate"
                              from="100 90"
                              to="200 200"
                              keyTimes="0; 1"
                              keySplines="0.2 0 0.8 1"
                              calcMode="spline"
                              dur="0.5s"
                              repeatCount="1"
                              fill="freeze"
            />
            <g>
                <path
                        id="explosion"
                        d="M116 1L124.929 82.6756L173.5 16.4071L140.395 91.6048L215.593 58.5L149.324 107.071L231 116L149.324 124.929L215.593 173.5L140.395 140.395L173.5 215.593L124.929 149.324L116 231L107.071 149.324L58.5 215.593L91.6048 140.395L16.4071 173.5L82.6756 124.929L1 116L82.6756 107.071L16.4071 58.5L91.6048 91.6048L58.5 16.4071L107.071 82.6756L116 1Z"
                        stroke="#EEEEEE" stroke-width="5" stroke-linecap="round" stroke-dasharray="82 82"
                        transform="translate(-16, -16)"
                        transform-origin="116 116"
                        opacity="0"
                />
                <animate xlink:href="#explosion"
                         begin="oneTranslate.end + 0.8s"
                         attributeName="opacity" from="1" to="0"
                         keyTimes="0; 1"
                         keySplines="0.8 0 0 1"
                         calcMode="spline"
                         dur="0.5s"
                         fill="freeze"
                />
                <animateTransform
                        xlink:href="#explosion"
                        begin="oneTranslate.end + 0.8s"
                        attributeName="transform"
                        attributeType="XML"
                        type="scale"
                        from="0.2 0.2"
                        to="2 2"
                        keyTimes="0; 1"
                        keySplines="0 0 0.8 1"
                        calcMode="spline"
                        dur="0.5s"
                        repeatCount="1"
                        additive="sum"
                />

            </g>
        </svg>
        <span>Balloon<br>shooter</span>
        <input type="button" value="Start" id="button-start">
        <br><a href="https://github.com/xtkz/balloon-shooter" target="_blank">code on github</a>
    </div>
    <div class="endScreen">
        game over <br>
    </div>
  </body>
</html>
